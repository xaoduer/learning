Lambda表达式作为参数时，其类型由它的目标类型推导得出，推导过程遵循如下规则：

如果只有一个可能的目标类型，由相应函数接口里的参数类型推导得出；
如果有多个可能的目标类型，由最具体的类型推导得出；
如果有多个可能的目标类型且最具体的类型不明确，则需人为指定类型。


事实上，修改了像集合类这样的核心类库之后，这一保证也很难实现。我们可以用具体的例子作为思考练习。Java 8中为Collection接口增加了stream方法，这意味着所有实现了Collection接口的类都必须增加这个新方法。对核心类库里的类来说，实现这个新方法（比如为ArrayList增加新的stream方法）就能就能使问题迎刃而解。

缺憾在于，这个修改依然打破了二进制兼容性，在JDK之外实现Collection接口的类，例如MyCustomList，也仍然需要实现新增的stream方法。这个MyCustomList在Java 8中无法通过编译，即使已有一个编译好的版本，在JVM加载MyCustomList类时，类加载器仍然会引发异常。

这是所有使用第三方集合类库的梦魇，要避免这个糟糕情况，则需要在Java 8中添加新的语言特性：默认方法

三定律
如果对默认方法的工作原理，特别是在多重继承下的行为还没有把握，如下三条简单的定律可以帮助大家。

1. 类胜于接口。如果在继承链中有方法体或抽象的方法声明，那么就可以忽略接口中定义的方法。

2. 子类胜于父类。如果一个接口继承了另一个接口，且两个接口都定义了一个默认方法，那么子类中定义的方法胜出。

3. 没有规则三。如果上面两条规则不适用，子类要么需要实现该方法，要么将该方法声明为抽象方法。

其中第一条规则是为了让代码向后兼容。